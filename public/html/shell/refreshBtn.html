<blueprint>
    <sensor find="button" detect="click" run="toggleRefresh" />
    <sensor watch="autoRefreshMode" run="render7" auto="true" />
    <prop find="autoRefreshMode" />
</blueprint>


<display>

    <div id="button" style="display: flex; flex-direction: row; justify-content: center; transition: all 150ms ease;
            padding: 8px; border-radius: 4px; margin-top: 4px; cursor: pointer;
            border: 1px solid rgba(255,255,255,.25);

            ">
        <span class="fa fa-refresh" style="font-size: 24px; color: rgb(196, 232, 252); "></span>
        <div id="buttonTextHolder" style="overflow: hidden; width: 0; display: inline-block; transition: width 150ms ease;">
            <span id="buttonText" style="cursor: default ;font-size: 18px; color: rgb(196, 232, 252); padding-left: 6px;
                font-weight: 500; opacity: 0;
                transition-delay: 50ms; transition-property: opacity; transition-duration: 200ms;"> on </span>
        </div>
    </div>

</display>


<script>

    $.cog({

        toggleRefresh: function(){
            var mode = !this.autoRefreshMode.read();
            this.autoRefreshMode.write(mode);
        },

        render7: function(mode){

            this.button.css({
                'background-color': mode ? 'rgba(1, 36, 66, 0.15)' : 'rgba(255,255,255,.15)',
                'border-color': mode ? 'rgba(255,255,255,.5)' : 'rgba(255,255,255,.25)'
            });
            this.buttonText.css({
                opacity: mode ? 1 : 0
            });
            this.buttonTextHolder.css({
                width: mode ? '30px' : 0
            });
        }


    });

</script>